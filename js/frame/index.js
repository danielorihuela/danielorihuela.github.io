(()=>{function o(t,e){return t.type===e?t.touches[0].clientX:t.clientX}function r(t,e){return t.type===e?t.touches[0].clientY:t.clientY}function h(t,e){return parseFloat(t.getAttribute(e))||0}var y,v=0;function b(t,e,n){let u=document.getElementById(t),s=document.getElementById(e),m=document.getElementById(n);s.onmousedown=s.ontouchstart=f=>k(f,u,m)}function k(t,e,n){t=t||window.event,t.preventDefault(),y=o(t,"touchstart"),v=r(t,"touchstart"),n.style.setProperty("z-index","100"),document.onmousemove=document.ontouchmove=u=>M(u,e),document.onmouseup=document.ontouchend=()=>S(n)}function M(t,e){t=t||window.event;let n=o(t,"touchmove"),u=h(e,"data-x")-(y-n),s=r(t,"touchmove"),m=h(e,"data-y")-(v-s);e.style.transform=`translate(${u}px, ${m}px)`,e.setAttribute("data-x",u),y=n,e.setAttribute("data-y",m),v=s}function S(t){t.style.setProperty("z-index","-100"),document.onmousemove=document.ontouchmove=null,document.onmouseup=document.ontouchend=null}var{previousX:z,previousY:p,previousWidth:B,previousHeight:R}=0,{_previousDataX:I,_previousDataY:A}=0,E=null;function w(t,e,n){G(e),e.setAttribute("data-x",0),e.setAttribute("data-y",0),C(e),U(t,e,n)}function G(t){t.style=""}function C(t){let{x:e,y:n}=t.getBoundingClientRect();Object.assign(t.style,{margin:"0",marginLeft:`${e}px`,marginTop:`${n}px`})}function U(t,e,n){n.setAttribute("src",t),e.style.setProperty("visibility","visible")}function F(t){!D(t)||q(t)}function q(t){Object.assign(t.style,{marginLeft:z,marginTop:p,height:R,width:B,transform:E}),t.setAttribute("data-x",I),t.setAttribute("data-y",A)}function X(t){D(t)||(K(t),t.setAttribute("data-x",0),t.setAttribute("data-y",0),J(t),C(t))}function D(t){return t.style.height==="100%"&&t.style.width==="100%"&&t.getBoundingClientRect().x===0&&t.getBoundingClientRect().y===0}function J(t){Object.assign(t.style,{margin:"auto",height:"100%",width:"100%",transform:"translate(0px, 0px)"})}function K(t){z=t.style.marginLeft,B=t.style.width,p=t.style.marginTop,R=t.style.height,E=t.style.transform,I=parseFloat(t.getAttribute("data-x"))||0,A=parseFloat(t.getAttribute("data-y"))||0}function P(t){t.style.setProperty("visibility","collapse")}var Q=400,Y=400,l=0,a=0,d=null,i=null;function L(t,e,n,u,s,m,f){i=document.getElementById(t),d=document.getElementById(f);let H=document.getElementById(e);c(H,T);let N=document.getElementById(n);c(N,$);let O=document.getElementById(u);c(O,x);let _=document.getElementById(s);c(_,V);let j=document.getElementById(m);c(j,Z)}function c(t,e){t.onmousedown=n=>{n=n||window.event,n.preventDefault(),l=o(n,"touchstart"),a=r(n,"touchstart"),d.style.setProperty("z-index","100"),document.onmousemove=e,document.onmouseup=W},t.ontouchstart=n=>{n=n||window.event,n.preventDefault(),l=o(n,"touchstart"),a=r(n,"touchstart"),d.style.setProperty("z-index","100"),document.ontouchmove=e,document.ontouchend=W}}function T(t){let e=i.getBoundingClientRect().width+o(t,"touchmove")-l;e>=Y&&(i.style.width=`${e}px`,l=o(t,"touchmove"))}function $(t){let e=o(t,"touchmove")-l,n=i.getBoundingClientRect().width-e;n>=Y&&(i.style.marginLeft=`${parseFloat(i.style.marginLeft)+e}px`,i.style.width=`${n}px`,l=o(t,"touchmove"))}function x(t){let e=i.getBoundingClientRect().height+r(t,"touchmove")-a;e>=Q&&(i.style.height=`${e}px`,a=r(t,"touchmove"))}function V(t){x(t),T(t)}function Z(t){x(t),$(t)}function W(){document.onmousemove=document.ontouchmove=null,d.style.setProperty("z-index","-100")}var g=document.getElementById("frame-wrapper"),tt=document.getElementById("frame-inner");window.openFrame=t=>w(t,g,tt);window.minimize=()=>F(g);window.maximize=()=>X(g);window.closeFrame=()=>P(g);b("frame-wrapper","head-bar","safeguard");L("frame-wrapper","right-resizer","left-resizer","bottom-resizer","bottom-right-resizer","bottom-left-resizer","safeguard");})();
