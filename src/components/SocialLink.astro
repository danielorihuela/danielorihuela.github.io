---
interface Props {
    href: string;
    image: string;
    class?: string;
}

const { href, image, class: className } = Astro.props;
---

<style>
    @property --a {
        syntax: "<angle>";
        inherits: false;
        initial-value: 0deg;
    }
    @keyframes animate {
        0% {
            --a: 0deg;
        }
        100% {
            --a: 360deg;
        }
    }

    .loader {
        grid-row-start: 1;
        grid-column-start: 1;
        opacity: 0;
        position: relative;
        background: repeating-conic-gradient(
            from var(--a),
            var(--accent) 0%,
            var(--accent) 5%,
            transparent 5%,
            transparent 40%,
            var(--accent) 50%
        );
        animation: animate 2s infinite linear;
    }

    .loader::before {
        content: "";
        position: absolute;
        inset: 3px;
        background-color: #222222;
    }
</style>

<div class:list={[ "grid group", className ]}>
    <div class="loader group-hover:opacity-100"></div>
    <a class="row-span-full col-span-full z-0" href={href}>
        <img src={image} />
    </a>
</div>
