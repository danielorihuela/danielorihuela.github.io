<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=description content="Daniel Orihuela blog and personal website">
<meta name=viewport content="width=device-width,height=device-height">
<link rel=stylesheet href=/css/everywhere.css>
<title>H4ck1ng G00gl3 ep002 challenge 03 | danielorihuela</title>
<link rel=stylesheet href=/css/page.css>
<link rel=stylesheet href=/css/code.css>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js></script>
<script>hljs.highlightAll()</script>
<script type=module src=/js/frame/index.js></script>
</head>
<body>
<span class=title>
<font color=#2e86c1>H4ck1ng G00gl3 ep002 challenge 03</font>
</span>
<div class=back>
<a href=/posts>
Back
</a>
</div>
<h2 id=table-of-contents>Table of Contents</h2>
<ul>
<li><a href=#introduction>Introduction</a></li>
<li><a href=#learning-journey>Learning Journey</a></li>
</ul>
<h2 id=introduction>Introduction</h2>
<p><a href=https://h4ck1ng.google/>H4ck1ng G00gl3</a> is a series of security challenges published on <strong>October 2022</strong> where the only way to win is to think like a hacker. In this post, I explain how I solved <strong>ep002 challenge 03</strong>.
This challenge is about <strong>Escaping Restricted Shell</strong>.</p>
<h2 id=learning-journey>Learning Journey</h2>
<figure class=centered-image><img src=/images/h4ck1ng00gl3/ep002ch03/intro.png>
</figure>
<p>The description tells us how to connect to a remote shell.</p>
<figure class=centered-image><img src=/images/h4ck1ng00gl3/ep002ch03/quarantineshell.png>
</figure>
<p>Once connected, we get access to a shell. It has a peculiarity, though. We cannot execute any commands because they are blocked. However, it tells us to check the completions to see the available ones. Therefore, I pressed the <strong>tab</strong> key a few times to see them.</p>
<figure class=centered-image><img src=/images/h4ck1ng00gl3/ep002ch03/available-commands.png>
</figure>
<p>The flag, as in other challenges, can be found in the root folder. We can check it by writing &ldquo;ls /&rdquo; and then pressing the <strong>tab</strong> a couple of times to see the available files and directories.</p>
<figure class=centered-image><img src=/images/h4ck1ng00gl3/ep002ch03/ls-flag.png>
</figure>
<p>I was stuck. I did not know what to do. I had to ask the community for a hint. The trick is overriding a builtin function. The <a href=https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html>bash documentation</a> says:</p>
<blockquote>
<p>Bash allows a function to override a builtin with the same name, and provides access to that builtinâ€™s functionality within the function via the builtin and command builtins (see Bash Builtin Commands).</p>
</blockquote>
<p>That means we can <strong>overwrite one of the builtin functions</strong> available to try and read the flag. I tried with a couple of functions but did not manage to override them. I asked for another hint. We have to use the &ldquo;<strong>echo</strong>&rdquo; function. Executing the following commands will change its behaviour and return the flag.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=nb>echo</span> <span class=o>()</span> <span class=o>{</span> /bin/cat /flag<span class=p>;</span> <span class=o>}</span>
<span class=nb>echo</span>
</code></pre></div><p>With that, we completed the challenge.</p>
<figure class=centered-image><img src=/images/h4ck1ng00gl3/ep002ch03/intro.png>
</figure>
<br><br><br>
<hr style=width:100%;text-align:left;margin-left:0;margin-right:0>
<div>
You can send me an email to danielorihuelarodriguez@gmail.com or contact me through <a href=https://twitter.com/_DanielOrihuela>Twitter</a>
</div>
</body>
</html>